aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 40) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333"))
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 40) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333"),
plot.title = element_text(family = "Calibri"))
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 40) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333"),
plot.title = element_text(family = "Calibri"), face = "bold")
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 40) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333"),
plot.title = element_text(family = "Calibri", face = "bold"))
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 40) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333"),
plot.title = element_text(family = "Calibri", face = "bold", hjust = "center"))
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 40) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333"),
plot.title = element_text(family = "Calibri", face = "bold", hjust = "0.5"))
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 40) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333", face = "italic"),
plot.title = element_text(family = "Calibri", face = "bold", hjust = "0.5"))
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 45) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333", face = "italic"),
plot.title = element_text(family = "Calibri", face = "bold", hjust = "0.5"))
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 43) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333", face = "italic"),
plot.title = element_text(family = "Calibri", face = "bold", hjust = "0.5"))
ggsave(plot, file = "plot.PNG", height = 7, width = 4, type = "cairo")
grafico <- ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 43) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333", face = "italic"),
plot.title = element_text(family = "Calibri", face = "bold", hjust = "0.5"))
ggsave(grafico, file = "plot.PNG", height = 7, width = 4, type = "cairo")
ggsave(grafico, file = "plot.PNG", height = 8, width = 5, type = "cairo")
test <- download.file(url = "http://nefin.com.br/Risk%20Factors/SMB_Factor.xls",destfile = "teste.xls")
teste <- read_excel("test")
teste <- readxl::read_excel("test")
teste <- readxl::read_excel("teste.xls")
test <- download.file(url = "http://nefin.com.br/Risk%20Factors/SMB_Factor.xls",destfile = "teste.xls", method = "libcurl")
teste <- readxl::read_excel("teste.xls")
test <- download.file(url = "http://nefin.com.br/Risk%20Factors/SMB_Factor.xls",destfile = "teste.xls", method = "curl")
teste <- readxl::read_excel("teste.xls")
test <- download.file(url = "http://nefin.com.br/Risk%20Factors/SMB_Factor.xls",destfile = "teste.xls", mode = "wb")
teste <- readxl::read_excel("teste.xls")
grafico <- ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_point(aes(color = Tipo_fundo), size = 3) +
#geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 43) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333", face = "italic"),
plot.title = element_text(family = "Calibri", face = "bold", hjust = "0.5"))
grafico
ggplot(fundos, aes(x = x, y = y, fill = Tipo_fundo)) +
geom_point(aes(color = Tipo_fundo), size = 5) +
#geom_tile(color = "white", width = 0.75, height = 0.75) +
geom_point(data = pos_medias, aes(x = 18, y = y_med, size = valores, color = Tipo_fundo)) +
geom_text(data = pos_medias,
aes(x = 18, y = y_med,
label = paste0("R$ ", valores_text, " bi",
ifelse(Tipo_fundo == "Com balanço patrimonial apenas", "*", ""))),
hjust = "center", vjust = "center", size = 3.5, family = "Calibri Light",
color = "#111111") +
geom_text(data = pos_medias,
aes(x = 6, y = y_med,
label = paste0(Tipo_fundo, "\n", qde, " fundos")),
hjust = "left", vjust = "center", size = 4, family = "Calibri Light",
color = "#555555") +
scale_x_continuous(limits = c(NA, 20)) +
#scale_size(range = c(0, 20)) +
scale_size_area(max_size = 43) +
scale_y_reverse() +
scale_color_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
scale_fill_manual(values = c("Sem recursos financeiros"         = "#BBBBBB",
"Com superávit financeiro apenas"  = "#277E8E",
"Com superávit financeiro e \nbalanço patrimonial" = "#92B25A",
"Com balanço patrimonial apenas"      = "#FDE625")) +
labs(caption = "* Valor da disponibilidade líquida apurada no Balanço Patrimonial",
title = "Figura 2 — Recursos Financeiros") +
theme_minimal() +
theme(panel.grid = element_blank(),
axis.line = element_blank(),
axis.text = element_blank(),
axis.title = element_blank(),
legend.position = "none",
text = element_text(family = "Calibri Light",
color = "#555555"),
plot.caption = element_text(color = "#333333", face = "italic"),
plot.title = element_text(family = "Calibri", face = "bold", hjust = "0.5"))
setwd("~/GitHub/tt/datasets/alugueis")
dados_brutos <- read.csv("alugueis2008_2019.csv")
dados_brutos <- read_csv("alugueis2008_2019.csv")
View(dados_brutos)
dados_brutos <- read.csv2("alugueis2008_2019.csv")
dados <- dados_brutos %>%
mutate(saldo = as.numeric(SALDORITEMINFORMAO),
saldo_ant = as.numeric(SALDOANTRITEMINFORMAO))
dados <- dados_brutos %>%
mutate(saldo = as.numeric(SALDORITEMINFORMAO),
saldo_ant = as.numeric(SALDOANTRITEMINFORMAO)) %>%
group_by(ID_ANO, CO_NATUREZA_DESPESA_DETA) %>%
summarise(sum(saldo), sum(saldo_ant))
View(dados)
dados <- dados_brutos %>%
mutate(saldo = as.numeric(as.character(SALDORITEMINFORMAO)),
saldo_ant = as.numeric(as.character(SALDOANTRITEMINFORMAO))) %>%
group_by(ID_ANO, CO_NATUREZA_DESPESA_DETA) %>%
summarise(sum(saldo), sum(saldo_ant))
dados <- dados_brutos %>%
mutate(saldo = as.numeric(as.character(SALDORITEMINFORMAO)),
saldo_ant = as.numeric(as.character(SALDOANTRITEMINFORMAO))) %>%
group_by(ID_ANO, CO_NATUREZA_DESPESA_DETA) %>%
summarise(saldo = sum(saldo)) %>%
spread(key = ID_ANO, value = saldo)
yy <- data.frame(
UF = c("MA", "MA", "MA"),
Valor = c(100, 50, 20),
DIAG = c("C100", NA, "C100"),
IDENT = c(1, 5, 5),
COD = c(20, 20, 12)
)
yy %>% fill(DIAG)
yy %>%
fill(DIAG) %>%
group_by(UF, DIAG) %>%
summarise(Valor = sum(Valor),
IDENT = first(IDENT),
COD = last(COD))
yy %>%
fill(DIAG) %>%
group_by(UF, DIAG) %>%
summarise(Valor = sum(Valor),
IDENT = first(IDENT),
COD = last(COD))
